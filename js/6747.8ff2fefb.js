"use strict";(globalThis["webpackChunksik_ubl"]=globalThis["webpackChunksik_ubl"]||[]).push([[6747],{6747:(a,t,e)=>{e.r(t),e.d(t,{default:()=>F});var l=e(9835),n=e(6970);const i={key:0},o={key:1},s={class:"justify-center q-gutter-x-xs"},r={class:"justify-center q-gutter-x-xs"},d={class:"justify-center q-gutter-x-xs"},u=(0,l._)("div",{class:"text-h6"},"Detail Jabatan",-1),m={class:"text-grey-8 q-gutter-xs"},p=(0,l._)("div",{class:"text-h6"},"Tambah Jabatan",-1),k={class:"row items-center justify-end"},_=(0,l._)("div",{class:"text-h6"},"Edit Jabatan",-1),w={class:"row items-center justify-end"};function g(a,t,e,g,b,f){const h=(0,l.up)("q-icon"),c=(0,l.up)("q-input"),y=(0,l.up)("q-btn"),j=(0,l.up)("q-td"),W=(0,l.up)("q-badge"),v=(0,l.up)("q-tr"),J=(0,l.up)("q-table"),U=(0,l.up)("q-card-section"),K=(0,l.up)("q-card"),V=(0,l.up)("q-item-label"),q=(0,l.up)("q-item-section"),D=(0,l.up)("q-item"),x=(0,l.up)("q-list"),$=(0,l.up)("q-card-actions"),T=(0,l.up)("q-dialog"),z=(0,l.up)("q-select"),Z=(0,l.up)("q-date"),Q=(0,l.up)("q-popup-proxy"),C=(0,l.up)("q-form"),S=(0,l.up)("q-page"),P=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(S,{padding:""},{default:(0,l.w5)((()=>[(0,l.Wm)(K,{flat:""},{default:(0,l.w5)((()=>[(0,l.Wm)(U,null,{default:(0,l.w5)((()=>[(0,l.Wm)(J,{pagination:b.pagination,flat:"",title:"Karyawan",rows:b.rows,columns:b.columns,loading:a.loading,filter:b.filter,"row-key":"name"},{"top-right":(0,l.w5)((()=>[(0,l.Wm)(c,{borderless:"",dense:"",debounce:"300",modelValue:b.filter,"onUpdate:modelValue":t[0]||(t[0]=a=>b.filter=a),placeholder:"Search"},{append:(0,l.w5)((()=>[(0,l.Wm)(h,{name:"search"})])),_:1},8,["modelValue"]),(0,l.Wm)(y,{label:"Karyawan",class:"q-ml-md",icon:"add",unelevated:"",color:"primary",to:{name:"inputKaryawanAdmin"}})])),body:(0,l.w5)((t=>[(0,l.Wm)(v,{props:t},{default:(0,l.w5)((()=>[(0,l.Wm)(j,{key:"id_karyawan",props:t},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(t.row.id_karyawan),1)])),_:2},1032,["props"]),(0,l.Wm)(j,{key:"nama_karyawan",props:t},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(t.row.nama_karyawan),1)])),_:2},1032,["props"]),(0,l.Wm)(j,{key:"jabatan_akademik",props:t},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(t.row.jabatan_akademik),1)])),_:2},1032,["props"]),(0,l.Wm)(j,{key:"status",props:t},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(t.row.status_karyawan_statusTostatus.nama_status),1)])),_:2},1032,["props"]),(0,l.Wm)(j,{key:"gaji_pokok",props:t},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(a.$formatNumber(t.row.gaji_pokok)),1)])),_:2},1032,["props"]),(0,l.Wm)(j,{key:"nidn",props:t},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(t.row.nidn),1)])),_:2},1032,["props"]),(0,l.Wm)(j,{key:"nik",props:t},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(t.row.nik),1)])),_:2},1032,["props"]),(0,l.Wm)(j,{key:"jenis_kelamin",props:t},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(t.row.jenis_kelamin),1)])),_:2},1032,["props"]),(0,l.Wm)(j,{key:"agama",props:t},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(t.row.agama),1)])),_:2},1032,["props"]),(0,l.Wm)(j,{key:"alamat",props:t},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(t.row.alamat),1)])),_:2},1032,["props"]),(0,l.Wm)(j,{key:"no_tlpn",props:t},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(t.row.no_tlpn),1)])),_:2},1032,["props"]),(0,l.Wm)(j,{key:"kategori",props:t},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(t.row.kategori_karyawan.nama_kategori),1)])),_:2},1032,["props"]),(0,l.Wm)(j,{key:"tanggal_lahir",props:t},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(a.$parseDate(t.row.tanggal_lahir).fullDate),1)])),_:2},1032,["props"]),(0,l.Wm)(j,{key:"tanggal_masuk_kerja",props:t},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(a.$parseDate(t.row.tanggal_masuk_kerja).fullDate),1)])),_:2},1032,["props"]),(0,l.Wm)(j,{key:"tgl_pensiun",props:t},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(a.$parseDate(t.row.tgl_pensiun).fullDate),1)])),_:2},1032,["props"]),(0,l.Wm)(j,{key:"status",props:t},{default:(0,l.w5)((()=>[0===t.row.kontrak.length?((0,l.wg)(),(0,l.iD)("div",i,[(0,l.Wm)(W,{color:"positive"},{default:(0,l.w5)((()=>[(0,l.Uk)(" Inputan Baru ")])),_:1})])):((0,l.wg)(),(0,l.iD)("div",o,[1===t.row.kontrak[0].jenis_kontrak?((0,l.wg)(),(0,l.j4)(W,{key:0,color:"positive"},{default:(0,l.w5)((()=>[(0,l.Uk)(" Kontrak Baru ")])),_:1})):2===t.row.kontrak[0].jenis_kontrak?((0,l.wg)(),(0,l.j4)(W,{key:1,color:"positive"},{default:(0,l.w5)((()=>[(0,l.Uk)(" Kontrak Perpanjang ")])),_:1})):3===t.row.kontrak[0].jenis_kontrak?((0,l.wg)(),(0,l.j4)(W,{key:2,color:"negative"},{default:(0,l.w5)((()=>[(0,l.Uk)(" Kontrak Pensiun ")])),_:1})):(0,l.kq)("",!0)]))])),_:2},1032,["props"]),(0,l.Wm)(j,{key:"kontrak",props:t},{default:(0,l.w5)((()=>[(0,l._)("div",s,[(0,l.Wm)(y,{to:{name:"inputKontrakAdmin",params:{idKaryawan:t.row.id_karyawan}},color:"primary",disable:t.row.kontrak.length>0,label:"Tambah Kontrak",unelevated:"",outline:"",dense:""},null,8,["to","disable"])])])),_:2},1032,["props"]),(0,l.Wm)(j,{key:"jabatan",props:t},{default:(0,l.w5)((()=>[(0,l._)("div",r,[(0,l.Wm)(y,{color:"primary",unelevated:"",outline:"",onClick:a=>f.openJabatan(t.row),icon:"visibility",dense:""},null,8,["onClick"]),(0,l.Wm)(y,{color:"primary",unelevated:"",outline:"",onClick:a=>f.openDialogFormJabatan(t.row),icon:"add",dense:""},null,8,["onClick"])])])),_:2},1032,["props"]),(0,l.Wm)(j,{key:"aksi",props:t},{default:(0,l.w5)((()=>[(0,l._)("div",d,[(0,l.Wm)(y,{label:"edit",unelevated:"",icon:"edit",color:"warning",to:{name:"editKaryawanAdmin",params:{id:t.row.id_karyawan}}},null,8,["to"]),(0,l.Wm)(y,{label:"hapus",unelevated:"",icon:"delete",color:"negative",onClick:a=>f.hapus(t.row.id_karyawan)},null,8,["onClick"])])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["pagination","rows","columns","loading","filter"])])),_:1})])),_:1}),b.dialogLihatJabatan?((0,l.wg)(),(0,l.j4)(T,{key:0,modelValue:b.dialogLihatJabatan,"onUpdate:modelValue":t[1]||(t[1]=a=>b.dialogLihatJabatan=a)},{default:(0,l.w5)((()=>[(0,l.Wm)(K,{style:{width:"400px","max-width":"50vw"}},{default:(0,l.w5)((()=>[(0,l.Wm)(U,null,{default:(0,l.w5)((()=>[u])),_:1}),(0,l.Wm)(U,{class:"q-pt-none"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(b.activeData.nama_karyawan)+" - "+(0,n.zw)(b.activeData.status_karyawan_statusTostatus.nama_status)+" ",1),(0,l.Wm)(x,{bordered:"",separator:"",class:"q-mt-md"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(b.activeData.jabatan_karyawan,((a,t)=>((0,l.wg)(),(0,l.j4)(D,{key:t},{default:(0,l.w5)((()=>[(0,l.Wm)(q,null,{default:(0,l.w5)((()=>[(0,l.Wm)(V,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(a.jabatan.nama_jabatan),1)])),_:2},1024),(0,l.Wm)(V,{caption:""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(a.unit_kerja_jabatan_karyawan_unit_kerjaTounit_kerja.nama_unit_kerja)+" - "+(0,n.zw)(a.no_sk),1)])),_:2},1024)])),_:2},1024),(0,l.Wm)(q,{top:"",side:""},{default:(0,l.w5)((()=>[(0,l._)("div",m,[(0,l.Wm)(y,{class:"gt-xs",size:"12px",flat:"",dense:"",round:"",icon:"edit",color:"warning",onClick:t=>f.openDialogFormEditJabatan(a)},null,8,["onClick"]),(0,l.Wm)(y,{class:"gt-xs",size:"12px",flat:"",dense:"",round:"",icon:"delete",onClick:t=>f.hapusJabatan(a.id_jabatan_karyawan),color:"negative"},null,8,["onClick"])])])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1}),(0,l.Wm)($,{align:"right",class:"bg-white text-teal"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(y,{flat:"",label:"OK"},null,512),[[P]])])),_:1})])),_:1})])),_:1},8,["modelValue"])):(0,l.kq)("",!0),b.dialogTambahJabatan?((0,l.wg)(),(0,l.j4)(T,{key:1,modelValue:b.dialogTambahJabatan,"onUpdate:modelValue":t[9]||(t[9]=a=>b.dialogTambahJabatan=a)},{default:(0,l.w5)((()=>[(0,l.Wm)(K,{style:{width:"400px","max-width":"50vw"}},{default:(0,l.w5)((()=>[(0,l.Wm)(U,null,{default:(0,l.w5)((()=>[p])),_:1}),(0,l.Wm)(U,{class:"q-pt-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(C,{onSubmit:f.onSubmit},{default:(0,l.w5)((()=>[(0,l.Wm)(z,{modelValue:b.unitKerja,"onUpdate:modelValue":t[2]||(t[2]=a=>b.unitKerja=a),options:b.listUnitKerja,"option-label":"nama_unit_kerja","option-value":"id_unit_kerja",label:"Pilih Unit Kerja"},null,8,["modelValue","options"]),(0,l.Wm)(z,{modelValue:b.jabatan,"onUpdate:modelValue":t[3]||(t[3]=a=>b.jabatan=a),options:b.listJabatan,"option-label":"nama_jabatan","option-value":"kode_jabatan",label:"Pilih Jabatan"},null,8,["modelValue","options"]),(0,l.Wm)(c,{label:"Tanggal SK",modelValue:b.form.tgl_sk,"onUpdate:modelValue":t[6]||(t[6]=a=>b.form.tgl_sk=a),onClick:t[7]||(t[7]=t=>a.$refs.tgl_sk.show()),mask:"date",rules:["date"]},{append:(0,l.w5)((()=>[(0,l.Wm)(h,{name:"event",class:"cursor-pointer"},{default:(0,l.w5)((()=>[(0,l.Wm)(Q,{cover:"","transition-show":"scale",ref:"tgl_sk","transition-hide":"scale"},{default:(0,l.w5)((()=>[(0,l.Wm)(Z,{modelValue:b.form.tgl_sk,"onUpdate:modelValue":[t[4]||(t[4]=a=>b.form.tgl_sk=a),t[5]||(t[5]=t=>a.$refs.tgl_sk.hide())]},{default:(0,l.w5)((()=>[(0,l._)("div",k,[(0,l.wy)((0,l.Wm)(y,{label:"Close",color:"primary",flat:""},null,512),[[P]])])])),_:1},8,["modelValue"])])),_:1},512)])),_:1})])),_:1},8,["modelValue"]),(0,l.Wm)(c,{label:"No. SK",modelValue:b.form.no_sk,"onUpdate:modelValue":t[8]||(t[8]=a=>b.form.no_sk=a)},null,8,["modelValue"]),(0,l.Wm)(y,{class:"q-mt-md",label:"Submit Jabatan Karyawan",color:"primary",unelevated:"",type:"submit"})])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])):(0,l.kq)("",!0),b.dialogEditJabatan?((0,l.wg)(),(0,l.j4)(T,{key:2,modelValue:b.dialogEditJabatan,"onUpdate:modelValue":t[17]||(t[17]=a=>b.dialogEditJabatan=a)},{default:(0,l.w5)((()=>[(0,l.Wm)(K,{style:{width:"400px","max-width":"50vw"}},{default:(0,l.w5)((()=>[(0,l.Wm)(U,null,{default:(0,l.w5)((()=>[_])),_:1}),(0,l.Wm)(U,{class:"q-pt-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(C,{onSubmit:f.submitEdit},{default:(0,l.w5)((()=>[(0,l.Wm)(z,{modelValue:b.unitKerja,"onUpdate:modelValue":t[10]||(t[10]=a=>b.unitKerja=a),options:b.listUnitKerja,"option-label":"nama_unit_kerja","option-value":"id_unit_kerja",label:"Pilih Unit Kerja"},null,8,["modelValue","options"]),(0,l.Wm)(z,{modelValue:b.jabatan,"onUpdate:modelValue":t[11]||(t[11]=a=>b.jabatan=a),options:b.listJabatan,"option-label":"nama_jabatan","option-value":"kode_jabatan",label:"Pilih Jabatan"},null,8,["modelValue","options"]),(0,l.Wm)(c,{label:"Tanggal SK",modelValue:b.form.tgl_sk,"onUpdate:modelValue":t[14]||(t[14]=a=>b.form.tgl_sk=a),onClick:t[15]||(t[15]=t=>a.$refs.tgl_sk.show()),mask:"date",rules:["date"]},{append:(0,l.w5)((()=>[(0,l.Wm)(h,{name:"event",class:"cursor-pointer"},{default:(0,l.w5)((()=>[(0,l.Wm)(Q,{cover:"","transition-show":"scale",ref:"tgl_sk","transition-hide":"scale"},{default:(0,l.w5)((()=>[(0,l.Wm)(Z,{modelValue:b.form.tgl_sk,"onUpdate:modelValue":[t[12]||(t[12]=a=>b.form.tgl_sk=a),t[13]||(t[13]=t=>a.$refs.tgl_sk.hide())]},{default:(0,l.w5)((()=>[(0,l._)("div",w,[(0,l.wy)((0,l.Wm)(y,{label:"Close",color:"primary",flat:""},null,512),[[P]])])])),_:1},8,["modelValue"])])),_:1},512)])),_:1})])),_:1},8,["modelValue"]),(0,l.Wm)(c,{label:"No. SK",modelValue:b.form.no_sk,"onUpdate:modelValue":t[16]||(t[16]=a=>b.form.no_sk=a)},null,8,["modelValue"]),(0,l.Wm)(y,{class:"q-mt-md",label:"Submit Jabatan Karyawan",color:"primary",unelevated:"",type:"submit"}),(0,l.Wm)(j,{key:"status",props:a.props},{default:(0,l.w5)((()=>[1===a.props.row.status?((0,l.wg)(),(0,l.j4)(W,{key:0,color:"positive"},{default:(0,l.w5)((()=>[(0,l.Uk)(" Aktif ")])),_:1})):((0,l.wg)(),(0,l.j4)(W,{key:1,color:"negative"},{default:(0,l.w5)((()=>[(0,l.Uk)(" Tidak Aktif ")])),_:1}))])),_:1},8,["props"])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])):(0,l.kq)("",!0)])),_:1})}const b={data(){return{pagination:{rowsPerPage:10},columns:[{name:"id_karyawan",align:"left",label:" ID Karyawan",field:"id_karyawan"},{name:"nama_karyawan",align:"left",label:"Nama Karyawan",field:"nama_karyawan"},{name:"jabatan_akademik",align:"left",label:"Jabatan Akademik",field:"jabatan_akademik"},{name:"status",align:"left",label:"Status",field:"status"},{name:"gaji_pokok",align:"left",label:"Gaji Pokok",field:"gaji_pokok"},{name:"nidn",align:"left",label:"NIDN",field:"nidn"},{name:"nik",align:"left",label:"NIK",field:"nik"},{name:"jenis_kelamin",align:"left",label:"Jenis Kelamin",field:"jenis_kelamin"},{name:"agama",align:"left",label:"Agama",field:"agama"},{name:"alamat",align:"left",label:"Alamat",field:"alamat"},{name:"no_tlpn",align:"left",label:"No Telpon",field:"no_tlpn"},{name:"kategori",align:"left",label:"Katagori",field:"kategori"},{name:"tanggal_lahir",align:"left",label:"Tanggal Lahir",field:"tanggal_lahir"},{name:"tanggal_masuk_kerja",align:"left",label:"Tanggal Masuk Kerja",field:"tanggal_masuk_kerja"},{name:"tgl_pensiun",align:"left",label:"Tanggal Pensiun",field:"tgl_pensiun"},{name:"status_karyawan",align:"left",label:"Status Karyawan",field:"status_karyawan"},{name:"kontrak",align:"left",label:"Kontrak",field:"kontrak"},{name:"jabatan",align:"left",label:"Jabatan",field:"jabatan"},{name:"aksi",align:"left",label:"Aksi",field:"aksi"}],rows:[],filter:null,activeData:null,dialogLihatJabatan:!1,dialogTambahJabatan:!1,form:{id_jabatan:null,id_karyawan:null,tgl_sk:null,unit_kerja:null,no_sk:null},jabatan:null,unitKerja:null,listJabatan:null,listUnitKerja:null,listJabatanKaryawan:null,dialogEditJabatan:!1}},created(){this.getData()},methods:{getData(){this.loading=!0,this.$axios.get("/karyawan/getall").then((a=>{this.$parseResponse(a.data,!1)&&(this.rows=a.data.data,this.loading=!1)}))},hapus(a){this.$q.dialog({title:"konfirmasi",message:"apakah kamu yakin menghapus ",cancel:!0,persistent:!0}).onOk((()=>{this.$axios.delete(`/karyawan/delete/${a}`).then((a=>{this.$parseResponse(a.data)&&this.getData()}))}))},openJabatan(a){this.activeData=a,this.dialogLihatJabatan=!0},openDialogFormJabatan(a){this.jabatan=null,this.activeData=a,this.resetForm(),this.getJabatan(),this.getUnitKerja(),this.dialogTambahJabatan=!0},async openDialogFormEditJabatan(a){this.dialogLihatJabatan=!1,this.activeData=a,this.resetForm(),await this.getJabatan(),this.getUnitKerja(),this.unitKerja=a.unit_kerja_jabatan_karyawan_unit_kerjaTounit_kerja,this.jabatan=a.jabatan,this.listJabatan=[a.jabatan,...this.listJabatan],this.form.tgl_sk=this.$parseDate(a.tgl_sk).dateLocal,this.form.no_sk=a.no_sk,this.dialogEditJabatan=!0},resetForm(){this.form={id_jabatan:null,id_karyawan:null,tgl_sk:null,unit_kerja:null,no_sk:null}},async getJabatan(){await this.$axios.get(`/jabatan/get/notexist/${this.activeData.id_karyawan}`).then((a=>{this.$parseResponse(a.data,!1)&&(this.listJabatan=a.data.data)}))},getUnitKerja(){this.$axios.get("/unit_kerja/getall").then((a=>{this.$parseResponse(a.data,!1)&&(this.listUnitKerja=a.data.data)}))},onSubmit(){this.$showLoading(),this.form.id_jabatan=this.jabatan.kode_jabatan,this.form.unit_kerja=this.unitKerja.id_unit_kerja,this.form.id_karyawan=this.activeData.id_karyawan,this.$axios.post("/jabatan_karyawan/create",this.form).finally((()=>this.$hide())).then((a=>{this.$parseResponse(a.data,!0)&&(this.resetForm(),this.dialogTambahJabatan=!1,this.getData())}))},submitEdit(){this.form.id_jabatan=this.jabatan.kode_jabatan,this.form.unit_kerja=this.unitKerja.id_unit_kerja,this.form.id_karyawan=this.activeData.id_karyawan,this.$axios.put(`/jabatan_karyawan/update/${this.activeData.id_jabatan_karyawan}`,this.form).then((a=>{this.$parseResponse(a.data,!0)&&(this.resetForm(),this.dialogEditJabatan=!1,this.getData())}))},hapusJabatan(a){this.$q.dialog({title:"konfirmasi",message:"apakah kamu yakin menghapus ",cancel:!0,persistent:!0}).onOk((()=>{this.$axios.delete(`/jabatan_karyawan/delete/${a}`).then((a=>{this.$parseResponse(a.data)&&(this.getData(),this.dialogLihatJabatan=!1)}))}))}}};var f=e(1639),h=e(9885),c=e(4458),y=e(3190),j=e(7580),W=e(3119),v=e(2857),J=e(4455),U=e(3532),K=e(7220),V=e(990),q=e(2074),D=e(3246),x=e(490),$=e(1233),T=e(3115),z=e(1821),Z=e(8326),Q=e(6384),C=e(2765),S=e(4939),P=e(2146),L=e(9984),E=e.n(L);const A=(0,f.Z)(b,[["render",g]]),F=A;E()(b,"components",{QPage:h.Z,QCard:c.Z,QCardSection:y.Z,QTable:j.Z,QInput:W.Z,QIcon:v.Z,QBtn:J.Z,QTr:U.Z,QTd:K.Z,QBadge:V.Z,QDialog:q.Z,QList:D.Z,QItem:x.Z,QItemSection:$.Z,QItemLabel:T.Z,QCardActions:z.Z,QForm:Z.Z,QSelect:Q.Z,QPopupProxy:C.Z,QDate:S.Z}),E()(b,"directives",{ClosePopup:P.Z})}}]);