"use strict";(globalThis["webpackChunksik_ubl"]=globalThis["webpackChunksik_ubl"]||[]).push([[6181],{6690:(a,e,l)=>{l.d(e,{Z:()=>s});const s={1:{label:"Tugas Diberikan",color:"positive"},2:{label:"Sedang Dikerjakan",color:"warning"},3:{label:"Sudah Dikerjakan",color:"positive"},4:{label:"Sedang Ditinjau",color:"primary"},5:{label:"Selesai",color:"positive"},6:{label:"Revisi",color:"negative"}}},6181:(a,e,l)=>{l.r(e),l.d(e,{default:()=>T});var s=l(9835),i=l(6970);const t={class:"q-pa-md"},n={class:"row q-gutter-x-xs"},o={class:"row q-gutter-x-xs"},r={class:"justify-center q-gutter-x-xs"};function u(a,e,l,u,d,p){const g=(0,s.up)("q-icon"),m=(0,s.up)("q-input"),k=(0,s.up)("q-td"),c=(0,s.up)("q-btn"),w=(0,s.up)("q-badge"),_=(0,s.up)("q-tr"),f=(0,s.up)("q-table"),b=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(b,null,{default:(0,s.w5)((()=>[(0,s._)("div",t,[(0,s.Wm)(f,{flat:"",bordered:"",title:"Tugas",rows:d.rows,columns:d.columns,loading:d.loading,"row-key":"name"},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(m,{borderless:"",dense:"",debounce:"300",modelValue:d.filter,"onUpdate:modelValue":e[0]||(e[0]=a=>d.filter=a),placeholder:"Search"},{append:(0,s.w5)((()=>[(0,s.Wm)(g,{name:"search"})])),_:1},8,["modelValue"])])),body:(0,s.w5)((e=>[(0,s.Wm)(_,{props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(k,{key:"judul_tugas",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,i.zw)(e.row.judul_tugas),1)])),_:2},1032,["props"]),(0,s.Wm)(k,{key:"deskripsi_tugas",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,i.zw)(e.row.deskripsi_tugas),1)])),_:2},1032,["props"]),(0,s.Wm)(k,{key:"ket_revisi",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,i.zw)(e.row.ket_revisi??"-"),1)])),_:2},1032,["props"]),(0,s.Wm)(k,{key:"nama_unit_kerja",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,i.zw)(e.row.nama_unit_kerja),1)])),_:2},1032,["props"]),(0,s.Wm)(k,{key:"deadline",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,i.zw)(a.$parseDate(e.row.deadline).fullDate),1)])),_:2},1032,["props"]),(0,s.Wm)(k,{key:"lampiran",props:e},{default:(0,s.w5)((()=>[(0,s._)("div",n,[(0,s.Wm)(c,{label:"Lampiran",color:"primary",unelevated:"",outline:"",href:`${a.$baseLampiran}${e.row.lampiran}`,type:"a",target:"_blank"},null,8,["href"])])])),_:2},1032,["props"]),(0,s.Wm)(k,{key:"status",props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{color:d.statusTugas[e.row.status].color,class:"q-pa-xs"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,i.zw)(d.statusTugas[e.row.status].label),1)])),_:2},1032,["color"])])),_:2},1032,["props"]),(0,s.Wm)(k,{key:"hasilTugas",props:e},{default:(0,s.w5)((()=>[(0,s._)("div",o,[(0,s.Wm)(c,{label:"Lihat File",disable:null===e.row.file_hasil,color:"primary",unelevated:"",outline:"",href:`${a.$baseLampiran}${e.row.file_hasil}`,type:"a",target:"_blank"},null,8,["disable","href"])])])),_:2},1032,["props"]),(0,s.Wm)(k,{key:"aksi",props:e},{default:(0,s.w5)((()=>[(0,s._)("div",r,[(0,s.Wm)(c,{onClick:a=>p.selesai(e.row,4,"meninjau tugas","Ditinjau"),label:"Tinjau Tugas",disable:3!==e.row.status,icon:"close",outline:"",color:"negative"},null,8,["onClick","disable"]),(0,s.Wm)(c,{label:"Revisi",disable:4!==e.row.status,icon:"close",outline:"",color:"negative",to:{name:"tugasRevisiPimpinan",params:{id:e.row.id_tugas}}},null,8,["disable","to"]),(0,s.Wm)(c,{label:"Selesai",onClick:a=>p.selesai(e.row,5,"","Selesai"),disable:4!==e.row.status,icon:"done",outline:"",color:"positive"},null,8,["onClick","disable"]),(0,s.Wm)(c,{label:"Detail",unelevated:"",icon:"info",color:"primary",to:{name:"tugasDetailPimpinan",params:{id:e.row.id_tugas}}},null,8,["to"])])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows","columns","loading"])])])),_:1})}var d=l(6690);const p={data(){return{statusTugas:d.Z,loading:!1,columns:[{name:"judul_tugas",align:"left",label:"Judul Tugas",field:"judul_tugas"},{name:"deskripsi_tugas",align:"left",label:"Deskripsi",field:"deskripsi_tugas"},{name:"ket_revisi",align:"left",label:"Keterangan Revisi",field:"ket_revisi"},{name:"nama_unit_kerja",align:"left",label:"Unit Kerja",field:"nama_unit_kerja"},{name:"deadline",align:"left",label:"Deadline",field:"deadline"},{name:"lampiran",align:"left",label:"Lampiran Tugas",field:"lampiran"},{name:"status",align:"left",label:"Status",field:"status"},{name:"hasilTugas",align:"left",label:"Hasil Tugas",field:"hasilTugas"},{name:"aksi",align:"left",label:"Aksi",field:"aksi"}],rows:[],filter:null}},created(){this.getData()},methods:{getData(){this.loading=!0,this.$axios.get(`/tugas_pimpinanunit/get/${this.$getProfile().id_karyawan}`).then((a=>{this.$parseResponse(a.data,!1)&&(this.rows=a.data.data,this.loading=!1)}))},selesai(a,e,l,s){this.$q.dialog({title:"Confirm",message:`Apakah anda yakin ${l}?`,cancel:!0,persistent:!0}).onOk((()=>{this.$showLoading();const l=new FormData;l.append("data",JSON.stringify({status:e,ket_revisi:null}));const i=`\n          Kepada\n          ${a.nama_karyawan}\n          Tugas ${s}\n          Judul Tugas : ${a.judul_tugas}\n          Deadline: ${this.$parseDate(a.deadline).fullDate}\n          Deskripsi: ${a.deskripsi_tugas}\n          TTD\n\n          ${this.$getProfile().karyawan.nama_karyawan}\n        `;l.append("msg",i),l.append("noTelp",a.no_tlpn),this.$axios.put(`tugas_pimpinanunit/update/status/${a.id_tugas}`,l).finally((()=>this.$hide())).then((a=>{this.$parseResponse(a.data)&&this.getData()}))}))}}};var g=l(1639),m=l(9885),k=l(7580),c=l(3119),w=l(2857),_=l(3532),f=l(7220),b=l(4455),h=l(990),v=l(9984),$=l.n(v);const y=(0,g.Z)(p,[["render",u]]),T=y;$()(p,"components",{QPage:m.Z,QTable:k.Z,QInput:c.Z,QIcon:w.Z,QTr:_.Z,QTd:f.Z,QBtn:b.Z,QBadge:h.Z})}}]);