"use strict";(globalThis["webpackChunksik_ubl"]=globalThis["webpackChunksik_ubl"]||[]).push([[9463],{6651:(a,t,o)=>{o.d(t,{Z:()=>r});var n=o(6646),e=o(9283);function r(a,t){const o=(0,n.Z)(a,t,"text/csv");o||(0,e.notif)("Gagal Export","negative")}},9463:(a,t,o)=>{o.r(t),o.d(t,{default:()=>y});var n=o(9835),e=o(6970);function r(a,t,o,r,k,l){const i=(0,n.up)("q-btn"),s=(0,n.up)("q-td"),p=(0,n.up)("q-badge"),w=(0,n.up)("q-tr"),g=(0,n.up)("q-table"),_=(0,n.up)("q-page");return(0,n.wg)(),(0,n.j4)(_,{padding:""},{default:(0,n.w5)((()=>[(0,n.Wm)(g,{class:"q-mt-md",flat:"",bordered:"",title:"Riwayat Kontrak",rows:k.rows,columns:k.columns,loading:k.loading,"row-key":"name"},{"top-right":(0,n.w5)((()=>[(0,n.Wm)(i,{label:"Export Data",color:"primary",outline:"",icon:"download",onClick:t[0]||(t[0]=a=>l.exportData())})])),body:(0,n.w5)((t=>[(0,n.Wm)(w,{props:t},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{key:"id_kontrak",props:t},{default:(0,n.w5)((()=>[(0,n.Uk)((0,e.zw)(t.row.id_kontrak),1)])),_:2},1032,["props"]),(0,n.Wm)(s,{key:"id_karyawan",props:t},{default:(0,n.w5)((()=>[(0,n.Uk)((0,e.zw)(t.row.karyawan.nama_karyawan),1)])),_:2},1032,["props"]),(0,n.Wm)(s,{key:"namaKategori",props:t},{default:(0,n.w5)((()=>[(0,n.Uk)((0,e.zw)(t.row.karyawan.kategori_karyawan.nama_kategori),1)])),_:2},1032,["props"]),(0,n.Wm)(s,{key:"no_sk",props:t},{default:(0,n.w5)((()=>[(0,n.Uk)((0,e.zw)(t.row.no_sk),1)])),_:2},1032,["props"]),(0,n.Wm)(s,{key:"tgl_kontrak",props:t},{default:(0,n.w5)((()=>[(0,n.Uk)((0,e.zw)(this.$parseDate(t.row.tgl_kontrak).dateLocal),1)])),_:2},1032,["props"]),(0,n.Wm)(s,{key:"tgl_habis_kontrak",props:t},{default:(0,n.w5)((()=>[(0,n.Uk)((0,e.zw)(this.$parseDate(t.row.tgl_habis_kontrak).dateLocal),1)])),_:2},1032,["props"]),(0,n.Wm)(s,{key:"jenis_kontrak",props:t},{default:(0,n.w5)((()=>[1===t.row.jenis_kontrak?((0,n.wg)(),(0,n.j4)(p,{key:0,color:"positive"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Kontrak Baru ")])),_:1})):2===t.row.jenis_kontrak?((0,n.wg)(),(0,n.j4)(p,{key:1,color:"positive"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Kontrak Perpanjang ")])),_:1})):3===t.row.jenis_kontrak?((0,n.wg)(),(0,n.j4)(p,{key:2,color:"negative"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Kontrak Pensiun ")])),_:1})):(0,n.kq)("",!0)])),_:2},1032,["props"]),(0,n.Wm)(s,{key:"status",props:t},{default:(0,n.w5)((()=>[1===t.row.status?((0,n.wg)(),(0,n.j4)(p,{key:0,color:"positive"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Aktif ")])),_:1})):((0,n.wg)(),(0,n.j4)(p,{key:1,color:"negative"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Tidak Aktif ")])),_:1}))])),_:2},1032,["props"]),(0,n.Wm)(s,{key:"gaji_pokok",props:t},{default:(0,n.w5)((()=>[(0,n.Uk)((0,e.zw)(a.$formatNumber(t.row.karyawan.gaji_pokok)),1)])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows","columns","loading"])])),_:1})}var k=o(6651);const l={data(){return{dataKaryawan:null,columns:[{name:"no_sk",align:"left",label:"No. SK",field:"no_sk"},{name:"id_kontrak",align:"left",label:"ID Kontrak",field:"id_kontrak"},{name:"id_karyawan",align:"left",label:"Nama Karyawan",field:"id_karyawan"},{name:"namaKategori",align:"left",label:"Kategori",field:"namaKategori"},{name:"tgl_kontrak",align:"left",label:"Tanggal Kontrak",field:"tgl_kontrak"},{name:"tgl_habis_kontrak",align:"left",label:"Habis Kontrak",field:"tgl_habis_kontrak"},{name:"jenis_kontrak",align:"left",label:"Jenis Kontrak",field:"jenis_kontrak"},{name:"status",align:"left",label:"Status",field:"status"},{name:"gaji_pokok",align:"left",label:"Gaji Pokok",field:"gaji_pokok"}],rows:[],namaKaryawan:[],filter:null,kategori_:null,namaKategori:null,loading:!1}},created(){this.getDetail()},methods:{getDetail(){this.$axios.get(`/kontrak/get/${this.$route.params.id}`).finally((()=>this.$hide())).then((a=>{this.$parseResponse(a.data,!1)&&(this.rows=a.data.data)}))},exportData(){const a=["No. SK;ID Kontrak;Nama Karyawan;Kategori;Tanggal Kontrak;Tanggal Habis Kontrak;Jenis Kontrak;Ket. Kontrak;Gaji Pokok"].concat(this.rows.map((a=>`'${a.no_sk};${a.id_kontrak};${a.karyawan.nama_karyawan};${a.karyawan.kategori_karyawan.nama_kategori};${a.tgl_kontrak};${a.tgl_habis_kontrak};${a.jenis_kontrak};${a.ket_kontrak};${a.karyawan.gaji_pokok}'`))).join("\r\n");(0,k.Z)("detail.csv",a)}}};var i=o(1639),s=o(9885),p=o(7580),w=o(4455),g=o(3532),_=o(7220),d=o(990),u=o(9984),m=o.n(u);const f=(0,i.Z)(l,[["render",r]]),y=f;m()(l,"components",{QPage:s.Z,QTable:p.Z,QBtn:w.Z,QTr:g.Z,QTd:_.Z,QBadge:d.Z})}}]);