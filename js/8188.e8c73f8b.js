"use strict";(globalThis["webpackChunksik_ubl"]=globalThis["webpackChunksik_ubl"]||[]).push([[8188],{8188:(a,e,n)=>{n.r(e),n.d(e,{default:()=>$});var t={};n.r(t),n.d(t,{A:()=>d});var i=n(9835),l=n(6970);const s={class:"q-pa-md text-h6"},p={class:"q-pa-md text-h6"},o={class:"q-pa-md text-h6"},r={class:"q-pa-md text-h6"};function m(a,e,n,t,m,d){const u=(0,i.up)("q-select"),k=(0,i.up)("q-input"),g=(0,i.up)("q-form"),h=(0,i.up)("q-btn"),w=(0,i.up)("q-stepper-navigation"),_=(0,i.up)("q-step"),b=(0,i.up)("q-td"),c=(0,i.up)("q-icon"),f=(0,i.up)("q-file"),S=(0,i.up)("q-tr"),W=(0,i.up)("q-table"),j=(0,i.up)("q-stepper"),y=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)(y,{padding:""},{default:(0,i.w5)((()=>[(0,i.Wm)(j,{modelValue:m.step,"onUpdate:modelValue":e[15]||(e[15]=a=>m.step=a),vertical:"",color:"primary",flat:"",animated:""},{default:(0,i.w5)((()=>[(0,i.Wm)(_,{name:1,title:"Pilih Tahun Ajaran",icon:"settings",done:m.step>1,label:"priode"},{default:(0,i.w5)((()=>[(0,i.Wm)(g,{ref:"step1Form"},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{modelValue:m.tahunAjaran,"onUpdate:modelValue":e[0]||(e[0]=a=>m.tahunAjaran=a),options:m.listTahunAjaran,"option-label":"label","option-value":"id_master_tahun_ajaran",label:"Pilih Tahun Ajaran"},null,8,["modelValue","options"]),(0,i.Wm)(k,{modelValue:m.ja_dosen.nama_jabatan,"onUpdate:modelValue":e[1]||(e[1]=a=>m.ja_dosen.nama_jabatan=a),disable:"",label:"Jabatan Akademik"},null,8,["modelValue"]),(0,i.Wm)(k,{modelValue:m.kewajiban_sks,"onUpdate:modelValue":e[2]||(e[2]=a=>m.kewajiban_sks=a),disable:"",label:"Kewajiban SKS"},null,8,["modelValue"]),(0,i.Wm)(k,{modelValue:a.pengurangan_sks,"onUpdate:modelValue":e[3]||(e[3]=e=>a.pengurangan_sks=e),disable:"",label:"Pengurangan SKS "},null,8,["modelValue"]),(0,i.Wm)(k,{modelValue:m.total_sks,"onUpdate:modelValue":e[4]||(e[4]=a=>m.total_sks=a),disable:"",label:"Total Kewajiban SKS"},null,8,["modelValue"]),(0,i.Uk)(" "+(0,l.zw)(m.ada_pengurangan?"Anda memiliki pengurangan SKS":"Anda tidak memiliki pengurangan SKS"),1)])),_:1},512),(0,i.Wm)(w,null,{default:(0,i.w5)((()=>[(0,i.Wm)(h,{onClick:e[5]||(e[5]=a=>d.validateStep("step1Form",2)),color:"primary",label:"Continue"})])),_:1})])),_:1},8,["done"]),(0,i.Wm)(_,{name:2,title:"Pelaksanaan Pendidikan",icon:"create_new_folder",done:m.step>2},{default:(0,i.w5)((()=>[(0,i.Wm)(g,{onSubmit:d.onSubmit,ref:"step2Form"},{default:(0,i.w5)((()=>[(0,i._)("div",s," Pelaksanaan Pendidikan (SKS Terisi) : "+(0,l.zw)(d.hitungSKS(m.pendidikan)),1),(0,i.Wm)(W,{flat:"",title:"Kegiatan",rows:m.pendidikan,columns:m.columnPendidikan,class:"my-table"},{body:(0,i.w5)((a=>[(0,i.Wm)(S,{props:a},{default:(0,i.w5)((()=>[(0,i.Wm)(b,{key:"kegiatan",props:a},{default:(0,i.w5)((()=>[(0,i.Uk)((0,l.zw)(a.row.kegiatan),1)])),_:2},1032,["props"]),(0,i.Wm)(b,{key:"buktiKegiatan",props:a},{default:(0,i.w5)((()=>[(0,i.Uk)((0,l.zw)(a.row.buktiKegiatan),1)])),_:2},1032,["props"]),(0,i.Wm)(b,{key:"batasMaksimal",props:a},{default:(0,i.w5)((()=>[(0,i.Uk)((0,l.zw)(a.row.batasMaksimal),1)])),_:2},1032,["props"]),(0,i.Wm)(b,{key:"sks",props:a},{default:(0,i.w5)((()=>[(0,i.Uk)((0,l.zw)(a.row.sks),1)])),_:2},1032,["props"]),(0,i.Wm)(b,{key:"lampiran",props:a},{default:(0,i.w5)((()=>[a.row.adaLampiran?((0,i.wg)(),(0,i.j4)(f,{key:0,outlined:"",modelValue:a.row.lampiran,"onUpdate:modelValue":e=>a.row.lampiran=e},{prepend:(0,i.w5)((()=>[(0,i.Wm)(c,{name:"attach_file"})])),_:2},1032,["modelValue","onUpdate:modelValue"])):(0,i.kq)("",!0)])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows","columns"])])),_:1},8,["onSubmit"]),(0,i.Wm)(w,null,{default:(0,i.w5)((()=>[(0,i.Wm)(h,{onClick:e[6]||(e[6]=a=>d.validateStep2()),color:"primary",label:"Continue"}),(0,i.Wm)(h,{flat:"",onClick:e[7]||(e[7]=a=>m.step=1),color:"primary",label:"Back",class:"q-ml-sm"})])),_:1})])),_:1},8,["done"]),(0,i.Wm)(_,{name:3,title:"Pelaksanaan Penelitian",icon:"assignment",done:m.step>2},{default:(0,i.w5)((()=>[(0,i._)("div",p," Pelaksanaan Penelitian (SKS Terisi) : "+(0,l.zw)(d.hitungSKS(m.penelitian)),1),(0,i.Wm)(W,{flat:"",title:"Kegiatan",rows:m.penelitian,columns:m.columnPendidikan,class:"my-table"},{body:(0,i.w5)((a=>[(0,i.Wm)(S,{props:a},{default:(0,i.w5)((()=>[(0,i.Wm)(b,{key:"kegiatan",props:a},{default:(0,i.w5)((()=>[(0,i.Uk)((0,l.zw)(a.row.kegiatan),1)])),_:2},1032,["props"]),(0,i.Wm)(b,{key:"buktiKegiatan",props:a},{default:(0,i.w5)((()=>[(0,i.Uk)((0,l.zw)(a.row.buktiKegiatan),1)])),_:2},1032,["props"]),(0,i.Wm)(b,{key:"batasMaksimal",props:a},{default:(0,i.w5)((()=>[(0,i.Uk)((0,l.zw)(a.row.batasMaksimal),1)])),_:2},1032,["props"]),(0,i.Wm)(b,{key:"sks",props:a},{default:(0,i.w5)((()=>[(0,i.Uk)((0,l.zw)(a.row.sks),1)])),_:2},1032,["props"]),(0,i.Wm)(b,{key:"lampiran",props:a},{default:(0,i.w5)((()=>[a.row.adaLampiran?((0,i.wg)(),(0,i.j4)(f,{key:0,outlined:"",modelValue:a.row.lampiran,"onUpdate:modelValue":e=>a.row.lampiran=e},{prepend:(0,i.w5)((()=>[(0,i.Wm)(c,{name:"attach_file"})])),_:2},1032,["modelValue","onUpdate:modelValue"])):(0,i.kq)("",!0)])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows","columns"]),(0,i.Wm)(w,null,{default:(0,i.w5)((()=>[(0,i.Wm)(h,{onClick:e[8]||(e[8]=a=>d.validateStep3()),color:"primary",label:"Continue"}),(0,i.Wm)(h,{flat:"",onClick:e[9]||(e[9]=a=>m.step-=1),color:"primary",label:"Back",class:"q-ml-sm"})])),_:1})])),_:1},8,["done"]),(0,i.Wm)(_,{name:4,title:"Pelaksaan Pengabdian",icon:"add_comment",done:m.step>3},{default:(0,i.w5)((()=>[(0,i._)("div",o," Pelaksanaan Pengabdian (Jumlah Kegiatan Terisi) : "+(0,l.zw)(d.hitungJumlahLampiran(m.pengabdian)),1),(0,i.Wm)(g,{onSubmit:d.onSubmit,ref:"step2Form"},{default:(0,i.w5)((()=>[(0,i.Wm)(W,{flat:"",title:"Kegiatan",rows:m.pengabdian,columns:m.columnPendidikan,class:"my-table"},{body:(0,i.w5)((a=>[(0,i.Wm)(S,{props:a},{default:(0,i.w5)((()=>[(0,i.Wm)(b,{key:"kegiatan",props:a},{default:(0,i.w5)((()=>[(0,i.Uk)((0,l.zw)(a.row.kegiatan),1)])),_:2},1032,["props"]),(0,i.Wm)(b,{key:"buktiKegiatan",props:a},{default:(0,i.w5)((()=>[(0,i.Uk)((0,l.zw)(a.row.buktiKegiatan),1)])),_:2},1032,["props"]),(0,i.Wm)(b,{key:"batasMaksimal",props:a},{default:(0,i.w5)((()=>[(0,i.Uk)((0,l.zw)(a.row.batasMaksimal),1)])),_:2},1032,["props"]),(0,i.Wm)(b,{key:"sks",props:a},{default:(0,i.w5)((()=>[(0,i.Uk)((0,l.zw)(a.row.sks),1)])),_:2},1032,["props"]),(0,i.Wm)(b,{key:"lampiran",props:a},{default:(0,i.w5)((()=>[a.row.adaLampiran?((0,i.wg)(),(0,i.j4)(f,{key:0,outlined:"",modelValue:a.row.lampiran,"onUpdate:modelValue":e=>a.row.lampiran=e},{prepend:(0,i.w5)((()=>[(0,i.Wm)(c,{name:"attach_file"})])),_:2},1032,["modelValue","onUpdate:modelValue"])):(0,i.kq)("",!0)])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows","columns"])])),_:1},8,["onSubmit"]),(0,i.Wm)(w,null,{default:(0,i.w5)((()=>[(0,i.Wm)(h,{color:"primary",label:"Continue",onClick:e[10]||(e[10]=a=>d.validateStep4())}),(0,i.Wm)(h,{flat:"",onClick:e[11]||(e[11]=a=>m.step-=1),color:"primary",label:"Back",class:"q-ml-sm"})])),_:1})])),_:1},8,["done"]),(0,i.Wm)(_,{name:5,title:"Unsur Penjunjang",icon:"add_comment",done:m.step>4},{default:(0,i.w5)((()=>[(0,i._)("div",r," Unsur Penjunjang (Jumlah Kegiatan Terisi) : "+(0,l.zw)(d.hitungJumlahLampiran(m.penunjang)),1),(0,i.Wm)(g,{onSubmit:d.onSubmit,ref:"step2Form"},{default:(0,i.w5)((()=>[(0,i.Wm)(W,{flat:"",title:"Kegiatan",rows:m.penunjang,columns:m.columnPendidikan,class:"my-table"},{body:(0,i.w5)((a=>[(0,i.Wm)(S,{props:a},{default:(0,i.w5)((()=>[(0,i.Wm)(b,{key:"kegiatan",props:a},{default:(0,i.w5)((()=>[(0,i.Uk)((0,l.zw)(a.row.kegiatan),1)])),_:2},1032,["props"]),(0,i.Wm)(b,{key:"buktiKegiatan",props:a},{default:(0,i.w5)((()=>[(0,i.Uk)((0,l.zw)(a.row.buktiKegiatan),1)])),_:2},1032,["props"]),(0,i.Wm)(b,{key:"batasMaksimal",props:a},{default:(0,i.w5)((()=>[(0,i.Uk)((0,l.zw)(a.row.batasMaksimal),1)])),_:2},1032,["props"]),(0,i.Wm)(b,{key:"sks",props:a},{default:(0,i.w5)((()=>[(0,i.Uk)((0,l.zw)(a.row.sks),1)])),_:2},1032,["props"]),(0,i.Wm)(b,{key:"lampiran",props:a},{default:(0,i.w5)((()=>[a.row.adaLampiran?((0,i.wg)(),(0,i.j4)(f,{key:0,outlined:"",modelValue:a.row.lampiran,"onUpdate:modelValue":e=>a.row.lampiran=e},{prepend:(0,i.w5)((()=>[(0,i.Wm)(c,{name:"attach_file"})])),_:2},1032,["modelValue","onUpdate:modelValue"])):(0,i.kq)("",!0)])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows","columns"])])),_:1},8,["onSubmit"]),(0,i.Wm)(w,null,{default:(0,i.w5)((()=>[(0,i.Wm)(h,{color:"primary",label:"Continue",onClick:e[12]||(e[12]=a=>d.validateStep5())}),(0,i.Wm)(h,{flat:"",onClick:e[13]||(e[13]=a=>m.step-=1),color:"primary",label:"Back",class:"q-ml-sm"})])),_:1})])),_:1},8,["done"]),(0,i.Wm)(_,{name:6,title:"Last Step",icon:"check_small",done:m.step>5},{default:(0,i.w5)((()=>[(0,i.Uk)(" Pastikan data yang anda masukan benar ? "),(0,i.Wm)(w,null,{default:(0,i.w5)((()=>[(0,i.Wm)(h,{color:"primary",label:"Finish",onClick:d.onSubmit},null,8,["onClick"]),(0,i.Wm)(h,{flat:"",onClick:e[14]||(e[14]=a=>m.step-=1),color:"primary",label:"Back",class:"q-ml-sm"})])),_:1})])),_:1},8,["done"])])),_:1},8,["modelValue"])])),_:1})}n(9665);const d=[{kegiatan:"Melaksanakan perkuliahan (tutorial,tatap muka,dan/ atau daring) dan membimbing, menguji serta menyelenggarakan pendidikan di laboratorium/ praktikkeguruan/ bengkel/ studio/ kebun percobaan/ teknologi pengajaran dan praktek lapangan (tatap muka dan/ atau daring)(Maksimal 12 SKS)",buktiKegiatan:"",batasMaksimal:"",sks:"",lampiran:null,adaLampiran:!1},{kegiatan:"sdfsd",buktiKegiatan:"",batasMaksimal:"",sks:"",lampiran:null,adaLampiran:!1}],u={data(){return{tahunAjaran:null,ja_dosen:{id_ja:null,nama_jabatan:null},kewajiban_sks:0,ada_pengurangan:0,total_sks:0,listTahunAjaran:[],BKD:t,step:2,columnPendidikan:[{name:"kegiatan",align:"left",label:"Kegiatan",field:"kegiatan "},{name:"buktiKegiatan",align:"left",label:"Bukti Kegiatan",field:"buktiKegiatan "},{name:"batasMaksimal",align:"left",label:"Batas Maksimal",field:"batasMaksimal "},{name:"sks",align:"left",label:"sks",field:"sks "},{name:"lampiran",align:"left",label:"lampiran",field:"lampiran "}],pendidikan:[],penelitian:[],pengabdian:[],penunjang:[]}},created(){this.getTahunAjaran(),this.getData(),this.getJa()},methods:{onSubmit(){if(this.validateForm()){const a={jawaban:{id_karyawan:Number(this.$getProfile().karyawan.id_karyawan),id_master_tahun_ajaran:this.tahunAjaran.id_master_tahun_ajaran,ja_dosen:this.ja_dosen.id_ja,kewajiban_sks:this.kewajiban_sks,ada_pengurangan:this.ada_pengurangan,total_sks:this.total_sks},detail:[...this.pendidikan,...this.penelitian,...this.pengabdian,...this.penunjang].map((a=>({id:a.id,lampiran:a.lampiran})))},e=new FormData;for(const n of a.detail)n.lampiran&&e.append(`${n.id}`,n.lampiran);e.append("data",JSON.stringify(a)),this.$axios.post("bkd",e).then((a=>{this.$parseResponse(a.data)&&this.$router.push({name:"lihatPenilaian"})}))}else{const a=this.hitungSKS(this.pendidikan)+this.hitungSKS(this.penelitian)+this.hitungSKS(this.pengabdian)+this.hitungSKS(this.penunjang);a>16&&this.$q.dialog({message:"Sks Tidak Mencukupi. Minimal SKS",title:"Peringatan"})}},validateForm(){return 1!==this.ada_pengurangan||(alert("nanti"),!0)},async validateStep(a,e){await this.$refs[a].validate()&&this.$axios.post("bkd/cek",{id_karyawan:Number(this.$getProfile().karyawan.id_karyawan),id_master_tahun_ajaran:this.tahunAjaran.id_master_tahun_ajaran}).then((a=>{this.$parseResponse(a.data)&&(this.step=e)}))},validateStep2(){const a=this.hitungSKS(this.pendidikan);let e=5;1===this.ada_pengurangan&&(e=3),a<e?this.showDialog(e):this.step+=1},validateStep3(){const a=this.hitungSKS(this.penelitian);let e=4;1===this.ada_pengurangan&&(e=0),a<e?this.showDialog(e):this.step+=1},validateStep4(){const a=this.hitungJumlahLampiran(this.pengabdian);let e=1;1===this.ada_pengurangan&&(e=0),a<e?this.$q.dialog({message:`Jumlah Lampiran Tidak Mencukupi. Minimal isi ${e} Kegiatan`,title:"Peringatan"}):this.step+=1},validateStep5(){const a=this.hitungJumlahLampiran(this.penunjang);let e=1;1===this.ada_pengurangan&&(e=0),a<e?this.$q.dialog({message:`Jumlah Lampiran Tidak Mencukupi. Minimal isi ${e} Kegiatan`,title:"Peringatan"}):this.step+=1},showDialog(a){this.$q.dialog({message:`Sks Tidak Mencukupi. Minimal ${a} SKS`,title:"Peringatan"})},hitungSKS(a){let e=0;return a.forEach((a=>{a.lampiran&&(e+=a.sks)})),e},hitungJumlahLampiran(a){let e=0;return a.forEach((a=>{a.lampiran&&(e+=1)})),e},getData(){this.$axios.get("bkd").then((a=>{const e=a.data.data;this.pendidikan=e.pendidikan.map((a=>({...a,lampiran:null}))),this.penelitian=e.penelitian.map((a=>({...a,lampiran:null}))),this.pengabdian=e.pengabdian.map((a=>({...a,lampiran:null}))),this.penunjang=e.penunjang.map((a=>({...a,lampiran:null})))}))},getTahunAjaran(){this.$axios.get("tahun-ajaran").then((a=>{this.listTahunAjaran=a.data.data,this.tahunAjaran=this.listTahunAjaran.find((a=>1===Number(a.status_ajaran)))}))},getJa(){this.$axios.get(`jabatan_akademik/get/${this.$getProfile().karyawan.jabatan_akademik}`).then((a=>{if(this.$parseResponse(a.data,!1)){const e=a.data.data;this.ja_dosen=e,this.kewajiban_sks=e.beban_sks,this.getPengurangan()}}))},getPengurangan(){this.$axios.get(`jabatan_akademik/get/pengurangansks/${this.$getProfile().id_karyawan}`).then((a=>{if(this.$parseResponse(a.data,!1)){const e=a.data.data;e?(this.total_sks=3,this.ada_pengurangan=1):(this.total_sks=this.kewajiban_sks,this.ada_pengurangan=0)}}))}}};var k=n(1639),g=n(9885),h=n(8225),w=n(6017),_=n(8326),b=n(6384),c=n(3119),f=n(1992),S=n(4455),W=n(7580),j=n(3532),y=n(7220),K=n(9420),P=n(2857),U=n(9984),V=n.n(U);const q=(0,k.Z)(u,[["render",m]]),$=q;V()(u,"components",{QPage:g.Z,QStepper:h.Z,QStep:w.Z,QForm:_.Z,QSelect:b.Z,QInput:c.Z,QStepperNavigation:f.Z,QBtn:S.Z,QTable:W.Z,QTr:j.Z,QTd:y.Z,QFile:K.Z,QIcon:P.Z})}}]);