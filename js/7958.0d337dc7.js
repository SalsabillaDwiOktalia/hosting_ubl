"use strict";(globalThis["webpackChunksik_ubl"]=globalThis["webpackChunksik_ubl"]||[]).push([[7958],{7958:(a,t,n)=>{n.r(t),n.d(t,{default:()=>c});var i=n(9835);function e(a,t,n,e,s,u){const r=(0,i.up)("q-card-section"),d=(0,i.up)("q-btn"),l=(0,i.up)("q-icon"),o=(0,i.up)("q-file"),p=(0,i.up)("q-form"),_=(0,i.up)("q-card"),m=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)(m,{padding:""},{default:(0,i.w5)((()=>[(0,i.Wm)(_,{flat:""},{default:(0,i.w5)((()=>[(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i.Uk)(" kerjakan Tugas ")])),_:1}),(0,i.Wm)(d,{class:"q-ml-md",icon:"arrow_back",unelevated:"",color:"primary",to:{name:"tugasDariPimpinan"}}),(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i.Wm)(p,{onSubmit:u.onSubmit},{default:(0,i.w5)((()=>[(0,i.Wm)(o,{outlined:"",modelValue:s.lampiran,"onUpdate:modelValue":t[0]||(t[0]=a=>s.lampiran=a)},{prepend:(0,i.w5)((()=>[(0,i.Wm)(l,{name:"attach_file"})])),_:1},8,["modelValue"]),(0,i.Wm)(d,{label:"Submit",color:"primary",unelevated:"",type:"submit"})])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1})}const s={data(){return{form:{status:3,ket_revisi:null},lampiran:null}},created(){this.$showLoading(),this.$axios.get(`tugas_pimpinanunit/detail/${this.$route.params.id}`).finally((()=>this.$hide())).then((a=>{this.$parseResponse(a.data,!1)?this.data=a.data.data:this.$router.back()}))},methods:{onSubmit(){this.$showLoading();const a=new FormData;a.append("hasil_tugas",this.lampiran),a.append("data",JSON.stringify(this.form));const t=`\n          Yth.\n          ${this.data.jabatan_karyawan_master_tugas_id_jabatan_pimpinan_unitTojabatan_karyawan.karyawan.nama_karyawan} (${this.data.jabatan_karyawan_master_tugas_id_jabatan_pimpinan_unitTojabatan_karyawan.unit_kerja_jabatan_karyawan_unit_kerjaTounit_kerja.nama_unit_kerja})\n          Tugas telah dikerjakan.\n          Judul Tugas : ${this.data.judul_tugas}\n          Deadline: ${this.$parseDate(this.data.deadline).fullDate}\n          Deskripsi: ${this.data.deskripsi_tugas}\n          TTD\n\n          ${this.$getProfile().karyawan.nama_karyawan}\n        `;a.append("msg",t),a.append("noTelp",this.data.jabatan_karyawan_master_tugas_id_jabatan_pimpinan_unitTojabatan_karyawan.karyawan.no_tlpn),this.$axios.put(`tugas_pimpinanunit/update/status/${this.$route.params.id}`,a).finally((()=>this.$hide())).then((a=>{this.$parseResponse(a.data)&&this.$router.back()}))}}};var u=n(1639),r=n(9885),d=n(4458),l=n(3190),o=n(4455),p=n(8326),_=n(9420),m=n(2857),h=n(9984),k=n.n(h);const b=(0,u.Z)(s,[["render",e]]),c=b;k()(s,"components",{QPage:r.Z,QCard:d.Z,QCardSection:l.Z,QBtn:o.Z,QForm:p.Z,QFile:_.Z,QIcon:m.Z})}}]);