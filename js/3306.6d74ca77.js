"use strict";(globalThis["webpackChunksik_ubl"]=globalThis["webpackChunksik_ubl"]||[]).push([[3306],{3306:(a,t,n)=>{n.r(t),n.d(t,{default:()=>w});var e=n(9835);function i(a,t,n,i,s,r){const u=(0,e.up)("q-card-section"),l=(0,e.up)("q-btn"),d=(0,e.up)("q-icon"),o=(0,e.up)("q-file"),_=(0,e.up)("q-form"),p=(0,e.up)("q-card"),k=(0,e.up)("q-page");return(0,e.wg)(),(0,e.j4)(k,{padding:""},{default:(0,e.w5)((()=>[(0,e.Wm)(p,{flat:""},{default:(0,e.w5)((()=>[(0,e.Wm)(u,null,{default:(0,e.w5)((()=>[(0,e.Uk)(" kerjakan Tugas ")])),_:1}),(0,e.Wm)(l,{class:"q-ml-md",icon:"arrow_back",unelevated:"",color:"primary",to:{name:"tugasDariPimpinan"}}),(0,e.Wm)(u,null,{default:(0,e.w5)((()=>[(0,e.Wm)(_,{onSubmit:r.onSubmit},{default:(0,e.w5)((()=>[(0,e.Wm)(o,{outlined:"",modelValue:s.lampiran,"onUpdate:modelValue":t[0]||(t[0]=a=>s.lampiran=a)},{prepend:(0,e.w5)((()=>[(0,e.Wm)(d,{name:"attach_file"})])),_:1},8,["modelValue"]),(0,e.Wm)(l,{label:"Submit",color:"primary",unelevated:"",type:"submit"})])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1})}const s={data(){return{form:{status:3,ket_revisi:null},lampiran:null,data:null}},created(){this.getData()},methods:{getData(){this.$showLoading(),this.$axios.get(`karyawan-kb/tugas/detail/${this.$route.params.id}`).finally((()=>this.$hide())).then((a=>{this.$parseResponse(a.data,!1)&&(this.data=a.data.data)}))},onSubmit(){this.$showLoading();const a=new FormData;a.append("hasil_tugas",this.lampiran),a.append("data",JSON.stringify(this.form));const t=`\n          Yth.\n          ${this.data.jabatan_karyawan_master_tugas_kb_id_kepala_biroTojabatan_karyawan.karyawan.nama_karyawan} (${this.data.jabatan_karyawan_master_tugas_kb_id_kepala_biroTojabatan_karyawan.jabatan.nama_jabatan} ${this.data.jabatan_karyawan_master_tugas_kb_id_kepala_biroTojabatan_karyawan.unit_kerja_jabatan_karyawan_unit_kerjaTounit_kerja.nama_unit_kerja})\n          Tugas telah dikerjakan.\n          Judul Tugas : ${this.data.judul_tugas}\n          Deadline: ${this.$parseDate(this.data.deadline).fullDate}\n          Deskripsi: ${this.data.deskripsi_tugas}\n          TTD\n\n          ${this.$getProfile().karyawan.nama_karyawan}\n        `;a.append("msg",t),a.append("noTelp",this.data.jabatan_karyawan_master_tugas_kb_id_kepala_biroTojabatan_karyawan.karyawan.no_tlpn),this.$axios.put(`karyawan-kb/update/status/${this.$route.params.id}`,a).finally((()=>this.$hide())).then((a=>{this.$parseResponse(a.data)&&this.$router.back()}))}}};var r=n(1639),u=n(9885),l=n(4458),d=n(3190),o=n(4455),_=n(8326),p=n(9420),k=n(2857),m=n(9984),h=n.n(m);const b=(0,r.Z)(s,[["render",i]]),w=b;h()(s,"components",{QPage:u.Z,QCard:l.Z,QCardSection:d.Z,QBtn:o.Z,QForm:_.Z,QFile:p.Z,QIcon:k.Z})}}]);